<html>
<!DOCTYPE html>
<head>
 <!-- metadata about page -->
 <title>LBI Records Search</title>
 <meta charset="Unicode">
 <meta http-equiv="Content-Style-Type" content="text/css">
 <meta name="description" content="Kingdom of Loquntia">
 <meta name="keywords" content="Loquntia,KL,Micronation">
 <meta name="author" content="John Houston">
 
 <!-- load scripts -->
 <script language="javascript" src="/scripts/standard.js"></script>
<script language="javascript">
function searchDatabase()
{
document.dataBaseSearch.hits.value = "0";
document.dataBaseSearch.start.value = Date.now(); 
if (document.dataBaseSearch.input.value.toUpperCase().length < 2)
{
document.getElementById("output").innerHTML = "Search query must be at least two characters long.<br>";
}
else if (document.dataBaseSearch.input.value.toUpperCase() == "")
{

}
else
{
document.getElementById("output").innerHTML = "Searching database, this might take some time...<br>";
document.dataBaseSearch.entry.value = "1";
searchLoop();
}
}
function searchLoop()
{
    $(function(){
   $("#entry").load("https://e7260a03fc46cb7172382da0414ee8272d86496d.googledrive.com/host/0B7CSGGoPIUWiZ1UwazJldmpEVlk/records/" + document.dataBaseSearch.agency.value + "-" + document.dataBaseSearch.input.value.toLowerCase() + "-" + document.dataBaseSearch.entry.value + ".txt"); 
    });
setTimeout("checkHits()", 500);
}

function checkHits()
{
if (document.getElementById("entry").innerHTML == "")
{
document.getElementById("output").innerHTML = document.getElementById("found").innerHTML + "<p>" + document.dataBaseSearch.hits.value + " result(s) found in " + eval((Date.now() - document.dataBaseSearch.start.value) / 1000) + " seconds.<br>(Hash: " + Math.abs(document.getElementById("found").innerHTML.hashCode()) + ")</p>";
}
else {
document.getElementById("found").innerHTML += "<p><table><td><pre style='background-color:cccccc;'>" + document.getElementById("entry").innerHTML + "</pre></td></table></p>";document.dataBaseSearch.hits.value=eval(document.dataBaseSearch.hits.value + "+ 1");document.dataBaseSearch.entry.value=eval(document.dataBaseSearch.entry.value + "+ 1");document.getElementById("entry").innerHTML="";searchLoop();
}
}
String.prototype.hashCode = function(){

  var hash = 0;

  if (this.length == 0) return hash;

  for (i = 0; i < this.length; i++) {

      char = this.charCodeAt(i);

      hash = ((hash<<5)-hash)+char;

      hash = hash & hash; // Convert to 32bit integer

  }

    return hash;

}

</script>
 <script src="/scripts/jquery.js"></script>

 <!-- the following script loads the header and footer using JQuery -->
 <script language="javascript">
    $(function(){
   $("#header").load("/templates/header.txt"); $("#footer").load("/templates/footer.txt");
    });
 </script>
 
 <!-- load stylesheet and favicons -->
 <link rel="stylesheet" type="text/css" href="/scripts/standard.css" />
 <link rel="icon" href="/images/favicon16.png" sizes="16x16" type="image/png" />
 <link rel="icon" href="/images/favicon32.png" sizes="32x32" type="image/png" /> 
 <link rel="icon" type="image/ico" href="images/favicon.ico" />

</head>



<body id="css-zen-garden">
<div class="page-wrapper">


<!-- official title of page here (will become window/tab title)-->


<!-- loads header data here -->
<div id="header"></div>

<!-- body content -->
<div id="entry" style="display:none;"></div>
<div id="found" style="display:none;"></div>
	
		<div class="summary" role="article">

			<p>Search all national government records from 2011 until the present day, including military, court, and citizenship records</p>

			</div>

		<div id="query">

			<h3>Search Database</h3>
			<form name="dataBaseSearch" action="javascript:searchDatabase()">
				<input type="hidden" name="entry" value="0">
				<input type="hidden" name="hits" value="0">
				<input type="hidden" name="start" value="">
				<center>
                                Search records held by: <select name="agency">
                                <option value="100">Supreme Court of Loquntia</option>
				<option value="m">Ministry of Defence / Royal Military</option>
				<option value="mex">Ministry of the Exchequer</option>
				<option value="mfa">Ministry of Foreign Affairs</option>
				<option value="cr">Crown Vital Records</option>
				<option value="rms">Royal Marshals Service</option>
				</select><br>
				<input type="text" name="input" placeholder="Search Query"><input type="submit" style="width:0px; height:0px; opacity:0;">&emsp;<input type="submit" value="Search">
				</center>
			</form>
		</div>
				<div id="output"></div>

<!-- loads footer data here -->
<div id="footer"></div>

</body>
</html>